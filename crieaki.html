<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plano de Assinatura – MostreAki</title>
  <link rel="stylesheet" href="estilo.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut, signInWithPopup, GoogleAuthProvider, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const firebaseConfig = {
  apiKey: "AIzaSyBrKUtwP4T77oXE22cjOFVhfEUiJ7yctIE",
  authDomain: "mostreaki-2025.firebaseapp.com",
  projectId: "mostreaki-2025",
  storageBucket: "mostreaki-2025.appspot.com",
  messagingSenderId: "748712068097",
  appId: "1:748712068097:web:09cf043fbb45917ef6ec00"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

const authText = document.getElementById("authText");
const userCircle = document.getElementById("userCircle");

onAuthStateChanged(auth, user => {
  if (user) {
    authText.textContent = "Sair";
    authText.style.display = "inline";
    authText.onclick = () => {
      signOut(auth).then(() => {
        localStorage.removeItem("fotoPerfil");
        location.reload();
      });
    };
    if (user.photoURL) {
      userCircle.style.backgroundImage = `url('${user.photoURL}')`;
      localStorage.setItem("fotoPerfil", user.photoURL);
      userCircle.textContent = "";
    } else {
      userCircle.textContent = user.email.charAt(0).toUpperCase();
    }
    userCircle.style.display = "flex";
  } else {
    authText.textContent = "Entrar";
    authText.style.display = "inline";
    authText.onclick = abrirModal;
    userCircle.style.display = "none";
  }
});

window.confirmarPagamento = async () => {
  const user = auth.currentUser;
  if (!user) return alert("Faça login para confirmar o pagamento.");
  await setDoc(doc(db, "usuarios", user.uid), { plano: "pago" }, { merge: true });
  window.location.href = "contrato.html";
};

window.toggleMenu = () => {
  const m = document.getElementById("menu");
  m.style.display = m.style.display === "flex" ? "none" : "flex";
}

window.abrirModal = () => document.getElementById("modalLogin").style.display = "flex";
window.fecharModal = () => document.getElementById("modalLogin").style.display = "none";
window.toggleSenha = () => {
  const input = document.getElementById("senha");
  input.type = input.type === "password" ? "text" : "password";
}

window.entrarEmail = () => {
  const email = document.getElementById("email").value;
  const senha = document.getElementById("senha").value;
  signInWithEmailAndPassword(auth, email, senha)
    .then(() => {
      fecharModal();
    })
    .catch(() => alert("Erro ao entrar. Verifique os dados."));
}

window.entrarGoogle = () => {
  signInWithPopup(auth, provider)
    .then(result => {
      if (result.user.photoURL) {
        localStorage.setItem("fotoPerfil", result.user.photoURL);
      }
      fecharModal();
    })
    .catch(() => alert("Erro ao entrar com Google."));
}

window.redefinirSenha = () => {
  const email = document.getElementById("email").value;
  if (!email) return alert("Digite o e-mail para redefinir.");
  sendPasswordResetEmail(auth, email);
}

  </script>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo MostreAki">
    <div id="menuIcon" onclick="toggleMenu()">☰</div>
    <div id="auth">
      <span id="authText"></span>
      <div id="userCircle"></div>
    </div>
    <nav id="menu">
      <a href="index.html">Início</a>
      <a href="sobre.html">Sobre</a>
      <a href="contatos.html">Contato</a>
      <a href="crieaki.html">CrieAki</a>
    </nav>
  </header>  <main>
    <h1>Plano MostreAki – R$ 19,90/mês</h1>
    <ul>
      <li>Personalização de cores</li>
      <li>Até 30 imagens no catálogo</li>
      <li>Página pessoal customizável</li>
    </ul>
    <p>Formas de pagamento:</p>
    <img src="pix.png" alt="Pix">
    <img src="mercadopago.png" alt="Mercado Pago">
    <img src="picpay.png" alt="PicPay">
    <img src="bancointer.png" alt="Banco Inter">
    <br>
    <button onclick="confirmarPagamento()">Confirmar Pagamento</button>
  </main>  <footer>
    <p>&copy; 2025 MostreAki. Todos os direitos reservados.</p>
  </footer>  <div id="modalLogin">
    <div>
      <h2>Entrar</h2>
      <input id="email" placeholder="E-mail">
      <input id="senha" type="password" placeholder="Senha">
      <button onclick="entrarEmail()">Entrar</button>
      <button onclick="entrarGoogle()">Entrar com Google</button>
      <button onclick="redefinirSenha()">Esqueci a senha</button>
      <button onclick="fecharModal()">Fechar</button>
    </div>
  </div>
</body>
</html>
